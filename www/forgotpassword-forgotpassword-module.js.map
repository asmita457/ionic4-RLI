{"version":3,"sources":["webpack:///./src/app/forgotpassword/forgotpassword.module.ts","webpack:///./src/app/forgotpassword/forgotpassword.page.html","webpack:///./src/app/forgotpassword/forgotpassword.page.scss","webpack:///./src/app/forgotpassword/forgotpassword.page.ts"],"names":[],"mappings":"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","file":"forgotpassword-forgotpassword-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ForgotpasswordPage } from './forgotpassword.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ForgotpasswordPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ForgotpasswordPage]\n})\nexport class ForgotpasswordPageModule {}\n","module.exports = \"<!--<ion-header align=\\\"center\\\" color=\\\"medium\\\">-->\\n<ion-toolbar color=\\\"medium\\\">\\n  <ion-buttons slot=\\\"start\\\">\\n    <ion-back-button text=\\\"\\\" defaultHref=\\\"login\\\" class=\\\"menubutton\\\">\\n    </ion-back-button>\\n\\n  </ion-buttons>\\n  <ion-title align=\\\"center\\\" class=\\\"titleall\\\">Forgot Password</ion-title>\\n</ion-toolbar>\\n<!--</ion-header>-->\\n\\n<ion-content align=\\\"center\\\" class=\\\"textheading\\\" padding>\\n  <img class=\\\"LogoSet\\\" src=\\\"assets/icon/rlilogo.png\\\" />\\n  <!--<div style=\\\"padding: 20px\\\">-->\\n  <h4 style=\\\"font-size: 16px;font-weight: bold\\\">Forgot Your Commander Web Credentials</h4>\\n  <!--</div>-->\\n\\n  <ion-list>\\n    <form #form=\\\"ngForm\\\" novalidate>\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\" color=\\\"medium\\\" style=\\\"font-size: 13px\\\">\\n          <ion-icon name=\\\"mail\\\"></ion-icon>\\n          Badge/Email\\n        </ion-label>\\n        <ion-input type=\\\"email\\\" name=\\\"email\\\" [(ngModel)]=\\\"email\\\"></ion-input>\\n        <!-- <ion-input type=\\\"email\\\" name=\\\"email\\\" [(ngModel)]=\\\"email\\\" required pattern=\\\"[A-Za-z0-9._%+-@$/+*!#^&()=]{1,}\\\"></ion-input> -->\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\" color=\\\"medium\\\" style=\\\"font-size: 13px\\\">\\n          <ion-icon name=\\\"lock\\\"></ion-icon>\\n          Mobile Number\\n        </ion-label>\\n        <ion-input type=\\\"tel\\\" name=\\\"mobno\\\" [(ngModel)]=\\\"mobno\\\" pattern=\\\"\\\\d*\\\"></ion-input>\\n        <!-- <ion-input  type=\\\"number\\\" name=\\\"mobno\\\" [(ngModel)]=\\\"mobno\\\" required pattern=\\\"[A-Za-z0-9._%+-@$/+*!#^&()=]{10,}\\\"></ion-input> -->\\n      </ion-item>\\n      <br>\\n      \\n      <button class=\\\"buttonclass\\\" padding=\\\"2px\\\" align=\\\"center\\\" (click)=\\\"resetPassword()\\\" padding=\\\"10px\\\"\\n        type=\\\"submit\\\">Submit</button>\\n      <!-- <button class=\\\"buttonclass\\\" padding=\\\"2px\\\" align=\\\"center\\\" [disabled]=!form.valid  (click)=\\\"resetPassword()\\\" padding=\\\"10px\\\" type=\\\"submit\\\">Submit</button> -->\\n      <br>\\n      <br>\\n    </form>\\n  </ion-list>\\n\\n</ion-content>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ZvcmdvdHBhc3N3b3JkL2ZvcmdvdHBhc3N3b3JkLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController, ToastController, LoadingController } from '@ionic/angular';\nimport { AuthServicesService } from '../providers/Auth-Services/auth-services.service';\nimport { NetworkProviderService } from '../providers/NetworkProvider/network-provider.service';\nimport { DataSevicesService } from '../providers/Data-Services/data-sevices.service'\n@Component({\n  selector: 'app-forgotpassword',\n  templateUrl: './forgotpassword.page.html',\n  styleUrls: ['./forgotpassword.page.scss'],\n})\nexport class ForgotpasswordPage implements OnInit {\n  email: String\n  mobno: String\n  resultData: any\n  mno: any\n\n  constructor(\n    private router: Router,\n    private alertCtrl: AlertController,\n    public forgotservice: AuthServicesService,\n    private toastCtrl: ToastController,\n    public loadingController: LoadingController,\n    public networkProvider: NetworkProviderService,\n    public dataServices: DataSevicesService\n  ) { }\n\n  ngOnInit() {\n  }\n\n  readonly() {\n    return true;\n  }\n\n  resetPassword() {\n    if (this.networkProvider.getNetworkStatus() == 'Online') {\n      if (this.email == \"\" || this.email == undefined) {\n        this.email = \"\"\n        this.mobno = undefined\n        this.presentAlert(\"Please enter badge or email\")\n        return\n      }\n      if (this.mobno == \"\" || this.mobno == undefined) {\n        this.email = \"\"\n        this.mobno = undefined\n        this.presentAlert(\"Please enter mobile number\")\n        return\n      }\n      // if (this.mobno.toString().replace(/[^0-9]/g, \"\").length != 10) {\n      //   this.email = \"\"\n      //   this.mobno = undefined\n      //   this.presentAlert(\"Please enter valid mobile number\")\n      //   return\n      // }\n      // if (this.mobno.toString().includes(',') || this.mobno.toString().includes(';') || this.mobno.toString().includes('*') || this.mobno.toString().includes('#') || this.mobno.toString().includes('+')||this.mobno.toString().includes('(')||this.mobno.toString().includes('/')||this.mobno.toString().includes(')')||this.mobno.toString().includes('N')||this.mobno.toString().includes('.')||this.mobno.toString().includes('-')||this.mobno.toString().includes(' ')) {\n      //   this.email = \"\"\n      //   this.mobno = undefined\n      //   this.presentAlert(\"Please enter valid mobile number\")\n      //   return\n      // }\n\n      // let validmobno = this.mobno.toString().replace(/[^0-9]/g, \"\")\n      // alert(validmobno)\n\n      if (/^\\([0-9]{3}\\)[0-9]{3}-[0-9]{4}$/.test(this.mobno.toString()) == false && /^[0-9]{3}-[0-9]{3}-[0-9]{4}$/.test(this.mobno.toString()) == false && /^[0-9]{10}$/.test(this.mobno.toString()) == false) {\n        this.email = \"\"\n        this.mobno = undefined\n        this.presentAlert(\"Please enter valid mobile number\")\n        return\n      }\n      // if () {\n      //   this.email = \"\"\n      //   this.mobno = undefined\n      //   this.presentAlert(\"Please enter valid mobile number\")\n      //   return\n      // }\n      // if () {\n      //   this.email = \"\"\n      //   this.mobno = undefined\n      //   this.presentAlert(\"Please enter valid mobile number\")\n      //   return\n      // }\n\n\n      this.presentLoading()\n      this.forgotservice.getForgotPasswordData(this.email, this.mobno).then(result => {\n        this.resultData = result\n\n        console.log(\"Result\", this.resultData)\n        var status = this.resultData.status;\n        this.loadingController.dismiss()\n        if (status == 200) {\n          console.log(\"Result\", this.resultData)\n          var data = JSON.parse(this.resultData.data)\n          alert(data.message)\n          this.email = \"\"\n          this.mobno = \"\"\n        } else {\n          this.presentToast('Something went wrong.')\n          this.email = \"\"\n          this.mobno = \"\"\n        }\n      }, error => {\n        console.log('Error status:-', error)\n        this.loadingController.dismiss();\n        if (error.status == 404) {\n          this.presentToast('Something went wrong.')\n          this.email = \"\"\n          this.mobno = \"\"\n        }\n        if (error.status == 0) {\n          this.presentToast('Something went wrong.')\n          this.email = \"\"\n          this.mobno = \"\"\n        }\n        if (error.status == 401) {\n          // this.dataServices.DeleteSqliteDB_Tables()\n          this.displayUnauthoriesdAlert();\n          this.email = \"\"\n          this.mobno = \"\"\n        }\n      })\n    } else {\n      alert('No internet connection.')\n    }\n  }\n\n  async presentAlert(message) {\n    const alert = await this.alertCtrl.create({\n      header: 'Sorry',\n      // subHeader: 'Please enter valid password',\n      message: message,\n      buttons: ['OK']\n    });\n\n    await alert.present();\n  }\n\n  async presentToast(message: string) {\n    let toast = await this.toastCtrl.create({\n      message: message,\n      duration: 3000,\n      position: 'bottom'\n    });\n    toast.present();\n  }\n\n  async presentLoading() {\n    const loading = await this.loadingController.create({\n      message: 'Please wait...',\n      spinner: null\n    });\n    await loading.present();\n\n    const { role, data } = await loading.onDidDismiss();\n\n    console.log('Loading dismissed!');\n  }\n\n  async displayUnauthoriesdAlert() {\n    const alert = await this.alertCtrl.create({\n      header: 'Unauthorized',\n      subHeader: '',\n      buttons: [{\n        text: 'ok',\n        handler: () => {\n          this.router.navigate(['/login']);\n        }\n      }]\n    });\n\n    await alert.present();\n  }\n}\n"],"sourceRoot":""}